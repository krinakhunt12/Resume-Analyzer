<!-- Landing page: Hero, Features, How it Works, Trust, CTA -->
<header class="landing-header">
  <div class="container">
    <div class="brand" role="img" aria-label="Resume Analyzer logo">ATS Resume Analyzer</div>
    <nav class="nav">
      <a href="#how" (click)="scrollToSection($event, 'how')">How it Works</a>
      <a href="#features" (click)="scrollToSection($event, 'features')">Features</a>
      <a href="#trust" (click)="scrollToSection($event, 'trust')">Trust</a>
      <button class="btn btn-primary" (click)="startAnalysis()" aria-label="Upload Resume">Upload Resume</button>
    </nav>
  </div>
</header>

<main class="landing-root">
  <section class="hero container">
    <div class="hero-content">
      <h1>Analyze Your Resume Like a Recruiter</h1>
      <p class="subtitle">Get an ATS score, skill-gap insights, job-description matching, and AI career suggestions — fast, private, and actionable.</p>

      <div class="cta-row">
        <button class="btn btn-primary" (click)="startAnalysis()">Upload Resume</button>
        <button class="btn btn-secondary" (click)="scrollToSection($event,'how')">See How It Works</button>
      </div>
    </div>

    <div class="hero-visual" aria-hidden="true">
      <div class="visual-card">
        <svg width="220" height="160" viewBox="0 0 220 160" fill="none" xmlns="http://www.w3.org/2000/svg" class="illustration">
          <rect x="0" y="0" width="220" height="160" rx="12" fill="url(#g)" />
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#eef6ff" />
              <stop offset="1" stop-color="#dbeafe" />
            </linearGradient>
          </defs>
        </svg>
      </div>
    </div>
  </section>

  <section id="features" class="features container">
    <h2 class="section-title">What we offer</h2>
    <div class="features-grid" role="list">
      <article class="feature card" role="listitem">
        <div class="icon" aria-hidden>
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="#2563eb" stroke-width="1.5"/><path d="M8 12h8M8 16h8M8 8h8" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <h3>ATS Score Analysis</h3>
        <p>Understand recruiter-facing ATS compatibility with a clear numeric score and explanation.</p>
      </article>

      <article class="feature card" role="listitem">
        <div class="icon" aria-hidden>
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M12 2v20" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/><path d="M5 8h14" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <h3>Skill Gap Detection</h3>
        <p>Spot missing or weak skills compared to target roles and get prioritized recommendations.</p>
      </article>

      <article class="feature card" role="listitem">
        <div class="icon" aria-hidden>
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M3 12h18" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7l4-4 4 4" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <h3>Job Description Matching</h3>
        <p>Match your resume to a job description to see exact keyword alignment and gaps.</p>
      </article>

      <article class="feature card" role="listitem">
        <div class="icon" aria-hidden>
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M12 3v18" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/><path d="M3 12h18" stroke="#2563eb" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <h3>AI Career Suggestions</h3>
        <p>Receive tailored tips to improve impact, phrasing, and career positioning for recruiters.</p>
      </article>
    </div>
  </section>

  <section id="how" class="how container">
    <h2 class="section-title">How it works</h2>
    <div class="stepper" role="list">
      <div class="step" role="listitem">
        <div class="step-circle">1</div>
        <div class="step-label">Upload Resume</div>
      </div>

      <div class="step" role="listitem">
        <div class="step-circle">2</div>
        <div class="step-label">AI Analysis</div>
      </div>

      <div class="step" role="listitem">
        <div class="step-circle">3</div>
        <div class="step-label">Get Actionable Insights</div>
      </div>
    </div>
  </section>

  <section id="trust" class="trust container">
    <div class="trust-row card">
      <div class="trust-text">
        <strong>Trusted by recruiters and candidates</strong>
        <p>10,000+ resumes analyzed · Secure uploads · GDPR-friendly retention policy</p>
      </div>
      <div class="trust-metrics">
        <div class="metric"><strong>4.8/5</strong><span>Average rating</span></div>
        <div class="metric"><strong>30s</strong><span>Avg. analysis time</span></div>
      </div>
    </div>
  </section>

  <section class="final-cta container">
    <div class="cta-card card">
      <h2>Ready to see your recruiter score?</h2>
      <p>Start a free analysis and receive clear, prioritized steps to improve your resume.</p>
      <div class="cta-actions">
        <button class="btn btn-primary btn-lg" (click)="startAnalysis()">Start Free Analysis</button>
      </div>
    </div>
  </section>

  <!-- Uploader / interactive area (kept here to preserve functionality) -->
  <section class="uploader" *ngIf="showUploader" id="uploader">
    <div class="card upload-card">
      <h3>Upload & Analyze</h3>

      <label class="file-label">Resume (PDF/DOCX)
        <input type="file" accept=".pdf,.doc,.docx" (change)="onResumeSelected($event)" />
      </label>

      <label class="file-label">Job Description (optional)
        <input type="file" accept=".pdf,.doc,.docx" (change)="onJDSelected($event)" />
      </label>

      <div class="or">— OR —</div>

      <label class="jd-text">Paste Job Description
        <textarea rows="5" [(ngModel)]="jdText" placeholder="Paste job description text here"></textarea>
      </label>

      <div class="actions">
        <button class="btn btn-primary" (click)="uploadAnalyze()" [disabled]="loading">Analyze</button>
        <button class="btn btn-secondary" (click)="clear()" [disabled]="loading">Reset</button>
      </div>

      <div *ngIf="loading" class="progress">Progress: {{progress}}%</div>
      <div *ngIf="error" class="error">{{error}}</div>

      <div *ngIf="result" class="results">
        <h3>Analysis Summary</h3>
        <p><strong>Overall Score:</strong> {{result.results.overall_score}} — <em>{{result.results.rating}}</em></p>
        <p><strong>Top Strengths:</strong></p>
        <ul>
          <li *ngFor="let s of result.results.strengths">{{s}}</li>
        </ul>
      </div>
    </div>
  </section>
</main>
